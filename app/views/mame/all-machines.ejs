<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <div class="row">
            <table class="table table-striped table-hover">
                <caption>List of machines</caption>
                <thead class="thead-light">
                    <tr>
                        <th>name</th>
                        <th>title</th>
                        <th>manufacturer</th>
                        <th>year</th>
                    </tr>
                </thead>
            <% for (var i = 0; i < machines.length; i++) { %>
                <tr>
                    <td><a href="/mame/machine/<%=machines[i]._id%>"><%=machines[i].name%></a></td>
                    <td><%=machines[i].title%></td>
                    <td><%=machines[i].manufacturer%></td>
                    <td><%=machines[i].year%></td>
                </tr>
            <% } %>
            </table>
        </div>
        <% if (pages > 0) { %>
            <ul class="pagination text-center">
                <% if (current == 1) { %>
                    <li class="disabled"><a>First</a></li>
                <% } else { %>
                    <li><a href="/mame/machines/1">First</a></li>
                <% } %>
                <% if (Number(current) - 1 > 0) { %>
                    <li><a href="/mame/machines/<%= Number(current) - 1 %>">Prev</a></li>
                <% } %>
                <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
                <% if (i !== 1) { %>
                    <li class="disabled"><a>...</a></li>
                <% } %>
                <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
                    <% if (i == current) { %>
                        <li class="active"><a><%= i %></a></li>
                    <% } else { %>
                        <li><a href="/mame/machines/<%= i %>"><%= i %></a></li>
                    <% } %>
                    <% if (i == Number(current) + 4 && i < pages) { %>
                        <li class="disabled"><a>...</a></li>
                    <% } %>
                <% } %>
                <% if (Number(current) + 1 <= pages) { %>
                    <li><a href="/mame/machines/<%= Number(current) + 1 %>">Next</a></li>
                <% } %>
                <% if (current == pages) { %>
                    <li class="disabled"><a>Last</a></li>
                <% } else { %>
                    <li><a href="/mame/machines/<%= pages %>">Last</a></li>
                <% } %>
            </ul>
        <% } %>
    </div>
</body>
</html>